// protoc --gofast_out=plugins=grpc:.  payload.proto
syntax = "proto3";

package worker;

message Payload {
	bytes Data = 1;
}

service Worker {
	// Connection testing RPC.
	rpc Echo (Payload)             returns (Payload) {}

	// Data serving RPCs.
	rpc AssignUids (Payload)       returns (Payload) {}
	rpc Mutate (Payload)           returns (Payload) {}
	rpc ServeTask (Payload)        returns (Payload) {}
	rpc PredicateData (Payload)    returns (stream Payload) {}
	rpc Sort (Payload)             returns (Payload) {}

	// RAFT serving RPCs.
	rpc RaftMessage (Payload)       returns (Payload) {}
	rpc JoinCluster (Payload)       returns (Payload) {}
	rpc InitiateBackup (Payload)    returns (Payload) {}
	rpc StartBackupProcess(Payload) returns (Payload) {}
	rpc UpdateMembership (Payload)  returns (Payload) {}
}

